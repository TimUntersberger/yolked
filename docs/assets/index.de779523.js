var e=Object.defineProperty,t=Object.defineProperties,i=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,r=(t,i,n)=>i in t?e(t,i,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[i]=n;import{s as o,C as l,R as d,a as p}from"./vendor.6eaf90bd.js";const c=o.button``;class g{async create_file(e){if(_.signed_in){const t=await gapi.client.request({path:"drive/v3/files",method:"POST",body:e});return JSON.parse(t.body)}return null}async get_all(){if(_.signed_in){const e=await gapi.client.request({path:"drive/v3/files",method:"GET"});return JSON.parse(e.body).files}return null}async create_folder(e){return this.create_file((o=((e,t)=>{for(var i in t||(t={}))s.call(t,i)&&r(e,i,t[i]);if(n)for(var i of n(t))a.call(t,i)&&r(e,i,t[i]);return e})({},e),t(o,i({mimeType:"application/vnd.google-apps.folder"}))));var o}async delete_item(e){_.signed_in&&await gapi.client.request({path:"drive/v3/files",method:"DELETE",body:{id:e}})}}class h{constructor(e,t){this.id=e,this.title=t}static from_json(e){return new h(e.spreadsheetId,e.properties.title)}async append(e){_.signed_in&&await gapi.client.request({path:"https://sheets.googleapis.com/v4/spreadsheets/"+this.id+"/values/A1:append?valueInputOption=RAW",method:"POST",body:{range:"A1",majorDimension:"ROWS",values:e}})}}class u{async create(){if(_.signed_in){const e=await gapi.client.request({path:"https://sheets.googleapis.com/v4/spreadsheets",method:"POST",body:{properties:{title:"YolkedDatabase"}}});return h.from_json(JSON.parse(e.body))}return null}async get_by_id(e){if(_.signed_in){const t=await gapi.client.request({path:"https://sheets.googleapis.com/v4/spreadsheets/"+e,method:"GET"});return h.from_json(JSON.parse(t.body))}return null}}const m=["https://www.googleapis.com/auth/drive","https://www.googleapis.com/auth/drive.appdata"].join(" ");var _=new class{constructor(){this.initialized=!1,this.signed_in=!1,this.drive=new g,this.sheets=new u,this.event_handler=()=>{}}init(){return new Promise((e=>{gapi.load("client:auth2",(()=>{gapi.auth2.init({client_id:"783083744421-e7sv195ihcgmq1bvpqdpevneu7otam00.apps.googleusercontent.com",scope:m,ux_mode:"popup"}).then((t=>{this.initialized=!0,this.signed_in=t.isSignedIn.get(),t.isSignedIn.listen((e=>{this.signed_in=e,this.event_handler(e?"signIn":"signOut")})),this.event_handler("initialized"),e()}))}))}))}set_event_handler(e){this.event_handler=e}sign_in(){this.signed_in||gapi.auth2.getAuthInstance().signIn()}sign_out(){this.signed_in&&gapi.auth2.getAuthInstance().signOut()}};function v(){const[e,t]=l.exports.useState(_.signed_in),[i,n]=l.exports.useState(_.initialized);return _.set_event_handler((e=>{console.log("new event: "+e),n(_.initialized),t(_.signed_in)})),d.createElement("div",{className:"App"},d.createElement("p",null,"Initialized: ",""+i),d.createElement("p",null,"Signed in: ",""+e),d.createElement(c,{disabled:e,onClick:()=>_.sign_in()},"sign in"),d.createElement(c,{disabled:!e,onClick:()=>_.sign_out()},"sign out"))}_.init(),window.GAPI=_,p.render(d.createElement(d.StrictMode,null,d.createElement(v,null)),document.getElementById("root"));
